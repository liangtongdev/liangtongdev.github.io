---
layout:     post
title:      iBeacon应用
date:       2017-03-13 21:25:19
author:     liangtong
catalog: true
categories: 蓝牙
tags: iBeacon

---

* content
{:toc}

​	讲述iBeacon技术的方案设想、设计及实际应用。充分利用iBeacon的优势，位置、距离、感知相关的场合构造合适的场景。



### 方案设想   
在上一篇文章中有提到iBeacon应用场景举例。这里从3各方面进行描述：   
* 测距

    主要是在程序前台激活状态下，可能会用到的场景：

	* 周边摇、现场摇、签到等
	* 产品介绍，商场导购，博物馆导游等 
	* 位置修正，iBeacon的精度可以辅助一些其他功能
	* 精确区域预警、地理围栏
	* 室内导航等

* 监听

    托管给iOS系统，程序本身不需要打开即可触发功能，可能会用到以下场景：   
	* 欢迎语：比如当用户手持设备进入任意场景区域内时，进行交互提醒。
	* 业务联动：比如当用户进入某个控制区后，告知概况，同周边设备联动。
	* 区域预警：比如设置特定的围栏区域。
	* 其他：比如与门禁系统联动等

* 角色交换

    通常情况下，iBeacon设备作为基站，移动设备比如iPhone和iPad来接收信号，从而进行机遇位置的场景交互。我们也可以讲iPhone和iPad作为基站，给其设定特定的区域值进行广播。而接收设备位置固定等。可以设想以下场景：

	* 演示大屏上展示周边设备。
	* 教师要求输入动态口令进行签到。

### 基础方案

​	理想情况下，以下数据需要预缓存，保证在无网络或者网络环境差的情况下，交互动作可以顺利进行。因此，各类信息的版本控制需要在前期考虑。

#### iBeacon策略
​	iBeacon策略，或者说应用场景。如上一篇文章中所说，这里主要在iBeacon对应的区域Region（ProximityUUID & Major & Minor）上的三个值上做文章。 比如：  
* ProximityUUID ： 公司编码
* Major ： 建筑编码
* Minor ： 某类区域（物品）编码

策略相关信息确定后，就可以给不同的策略配置个性化信息了，比如进入／离开策略对应的区域时，定制以下信息：   
* 通知声音：个性化提示音
* 通知内容：跟具体业务相关
* 通知优先级：当多个策略同时触发时，可根据优先级来动态显示
* 通知频次：用来确保特定时间段内，不重复通知

#### iBeacon业务
​	单纯的触发iBeacon对应区域的策略，仅仅是对用户的消息提醒，我们比较关注的是策略的后续动作。比如当用户到达某个iBeacon区域（或者在某个区域驻足时间较长）后，收到了个性化的策略通知。很自然的点击查看感兴趣的消息，那么后续的动作就是这里所说的iBeacon业务。通常情况下，后续动作包括以下几种：   
* 打开某个本地模块
* 打开某个Web网页
* 打开某个本地网页
* 无后续动作

需要注意的是，后续动作可能不止一种。

#### 策略业务关联

​	为了保证数据的灵活，策略与业务的对应关系为1:N（N >= 0），当策略对应多个业务的时候，需要考虑各业务的优先级等。

#### 用户策略

​	除了一些共通的策略外，用户也可以拥有独特权限的策略，比如同一个区域，不同角色进入时，看到的数据根据其权限表现出差异。

### 应用

#### 设备选择
iBeacon设备选取可能会考虑的几个因素包括：   
* 电池及续航
* 设备运维
* 设备部署
* 设备美感
* 设备软件能力
* 设备使用

通常情况下，电池、部署、软件能力需要着重考虑。

#### 设备部署

部署时可能需要考虑以下几个因素：   
* 环境干扰
* 工厂校正电压
* 放置位置（高度／间距）

### 总结
​	iBeacon技术在旅游景点、博物馆、商场、酒店、会议室等场景中可以给人很好的用户体验，但在成本、运维部署方面一直存在着问题。目前情况下小范围内玩iBeacon，还是很有搞头的。
